@import './_variables.scss';

// Progress
.content-progress {

  &.compact {

    & > .flex-column {
      flex:1 1 100%;
    }

    .trophy-progress-bar {
      margin-right:0;
      margin-bottom:0;
    }
  }
}

.congrats-container {
  &.compact {

    .subtitle {
      font-size:16px;
    }
  }
}

.trophy-progress-bar {
  background-color:rgba(0,0,0,.2);
  height:35px;
  border-radius:35px;
  overflow:hidden;

  @include xSmallOnly {
    margin-right:0;
    margin-bottom:$gutterWidth / 3;
  }


  &.complete {
    background-color:#fff;
  }

  .trophy-progress-cutoff {
    border-radius:55px;
    height:55px;
    margin-top:-10px;
    margin-left:-10px;
    border-width:10px;
    overflow:hidden;

    .trophy-progress {
      height:100%;
      width:0;
      border-radius:70px;
    }
  }

  .trophy {
    flex:0 0 60px;
  }
}


// Live Video Container
#liveVideo {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
}

// Chat Container
#chatContainer {
  padding-left:0;
  flex:0 0 100%;
  height:350px;
  margin-top:$gutterWidth;

  @include medium {
    flex:0 0 350px;
    padding-left:$gutterWidth / 3;
    height:auto;
    margin-top:0;
  }

  .inside {
    position:relative;
    overflow:hidden;
  }

  iframe {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
  }
}

// Breadcrumbs
#breadCrumbs {

  i {
    height:20px;
    width:20px;
  }
}

// Video Container
#videoContainer {
  flex:1 1 50%;
  max-width:100%;
}

// Lesson Info Sidebar
#lessonInfo {
  flex-wrap:wrap;

  @include medium {
    flex-wrap:nowrap;
  }

  .lesson-sidebar {
    flex:0 0 100%;
    margin-top:$gutterWidth / 2;

    @include medium {
      flex:0 0 320px;
      max-width:320px;
      margin-left:$gutterWidth / 2;
      margin-top:0;
    }

    .content-table {
      max-width:100%;

      .xs-12 {
        max-width:100%;
      }
    }
  }
}

// Complete Button

.completeButton {
  span {
    transition: opacity .2s ease-in-out, visibility .2s ease-in-out;
    will-change:opacity, visibility;
  }

  &.is-complete {

    .incompleted {
      opacity:0;
      visibility:hidden;
      display:none;
    }
    .completed {
      opacity:1;
      visibility:visible;
      display:flex;
    }
  }

  .incompleted {
    opacity:1;
    visibility:visible;
    display:flex;
  }
  .completed {
    opacity:0;
    visibility:hidden;
    display:none;
  }
}


// Catalogues
.progress-filters {
  flex: 0 0 100%;
  flex-direction:row;

  @include small {
    flex:0 0 150px;
    flex-direction:column;
  }
}

.catalogue-filter {
  flex:0 0 100%;
  margin-bottom:$gutterWidth / 2;

  @include small {
    flex:1;
    margin-bottom:0;
  }

  .cancel-filter {
    position:absolute;
    top:0;
    right:0;
    bottom:0;
    width:50px;
    border-radius:5px;
    background:#fff;
    font-size:20px;
    color:#000;
    border:1px solid #d1d1d1;
    cursor:pointer;
    @include flexCenter();

    i {
      font-size:20px;
    }
  }
}

.catalogue-card {
  flex:0 0 50%;

  @include small(){
    flex:0 0 33.33%;
  }

  @include medium {
    flex:0 0 25%;
  }

  @include large {
    flex:0 0 20%;
  }

  &:hover {
    .card-media {
      .thumb-img {
        transform:scale(1.2);
      }

      .thumb-hover {
        opacity:1;
        visibility:visible;
      }
    }
  }

  .card-media {
    position:relative;
    overflow:hidden;

    .thumb-img {
      background-size:cover;
      background-position:top center;
      background-repeat:no-repeat;
      position:absolute;
      top:0;
      left:0;
      bottom:0;
      right:0;
      transform-origin:50% 50%;
      transform:scale(1);
      will-change:transform;
      transition:transform .2s ease-in-out;
    }

    .add-to-list {
      position:absolute;
      top:0;
      right:0;
      height:35px;
      width:35px;
      @include flexCenter();
      font-size:16px;
      transition:color .1s ease-in-out, transform .1s ease-in-out;
      will-change: color, transform;
      text-shadow:0 0 2px rgba(0,0,0,.8);

      &.is-added {
        transform:rotate(45deg);
      }
    }

    .thumbnail-title {
      position:absolute;
      bottom:0;
      left:0;
      width:100%;
      padding:$gutterWidth #{$gutterWidth / 3} #{$gutterWidth / 3};
      @include topToBottomGradient(transparent, #000);
    }

    .lesson-progress {
      position:absolute;
      bottom:0;
      left:0;
      right:0;
      height:5px;

      .progress {
        position:absolute;
        height:100%;
        top:0;
        left:0;
        bottom:0;
      }
    }

    .thumb-hover {
      opacity:0;
      visibility:hidden;
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
      background-color:rgba(0,0,0,.4);
      z-index:2;
      transition:all .2s ease-in-out;
      will-change:opacity, visibility;

      i {
        font-size:16px;
        color:#fff;
      }
    }
  }
}

.show-index-card {
  background-position:center;
  background-size:cover;
  background-repeat:no-repeat;

  .new {
    position:absolute;
    top:0;
    left:0;
    border-radius:5px 0 5px 0;
    padding:5px;
  }
}

#loadingDialog {
  position:fixed;
  bottom:$gutterWidth;
  z-index:98;
  width:100%;
  left:0;

  .loading-spinner {
    max-width:250px;
    flex:0 0 250px;

    i {
      font-size:48px;
      height:50px;
      width:50px;
    }
  }
}

.addToList {
  span {
    transition: opacity .2s ease-in-out, visibility .2s ease-in-out;
    will-change:opacity, visibility;
  }

  &.added {

    .un-added {
      opacity:0;
      visibility:hidden;
      display:none;
    }
    .is-added {
      opacity:1;
      visibility:visible;
      display:flex;
    }
  }

  .un-added {
    opacity:1;
    visibility:visible;
    display:flex;
  }
  .is-added {
    opacity:0;
    visibility:hidden;
    display:none;
  }
}

#timezoneLabel {
  position:relative;

  select {
    position:absolute;
    top:0;
    left:0;
    bottom:0;
    right:0;
    opacity:0;
  }
}

.sbt-image, .sbt-video {
  filter:contrast(125%);
}

.play-sbt {
  .start { display:flex; }
  .stop { display:none; }

  &.playing {
    .start { display:none; }
    .stop { display:flex; }
  }
}